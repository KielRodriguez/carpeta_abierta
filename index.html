<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="https://datos.gob.mx/img/favicon.ico">
  <title>Carpeta abierta</title>
  <!-- Polymer -->
  <script type="text/javascript" src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
  <link rel="import" href="bower_components/polymer/polymer.html">
  <link rel="import" href="bower_components/dgm-navbar/dgm-navbar.html">
  <link rel="import" href="bower_components/dgm-footer/dgm-footer.html">
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/bootstrap-year-calendar.css">
  <link rel='stylesheet' href='css/main.css' />
  <link rel='stylesheet' href='css/carpeta_abierta.css' />
</head>
<body>

  <dgm-navbar></dgm-navbar>
<!-- Header -->
  <div class="header-expanded">
    <div class="header-bkg">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h2>Carpeta Abierta PGR</h2>
          </div>
          <div class="col-md-10 col-md-offset-1">
            <p class="header-info">
              Con esta herramienta podrás visualizar y explorar, en tiempo real, el avance de las carpetas de investigación del Fuero Federal.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="breadcrumb-container">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-7">
          <ul class="breadcrumb">
            <li>
              <a href="http://datos.gob.mx/">
                <i class="glyphicon glyphicon-home"></i>
              </a>
            </li>
            <li class="active"><a href="http://datos.gob.mx/carpeta_abierta">Carpeta abierta PGR</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <!-- Sección de calendario -->
    <div id="calendar">
      <div class="row">
        <div class="col-md-12">
          <h1>Calendario de carpetas</h1>
          <p>
            Visualiza los cambios que se hacen por día a las carpetas de investigación en distintos años. Puedes elegir ver el total de cambios o un tipo de cambio específico. Además, puedes filtrar por tipo de delito, agencia del ministerio público o Unidad Administrativa.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="header-section well">
            <div class="row">
              <div class="col-md-3">
                <p><strong>Indicadores</strong></p>
                <select id="calendar-changes" class="form-control">
                  <option value="totals">Total de cambios</option>
                  <option value="changes-folder">Cambios a carpetas</option>
                  <option value="new-folders">Nuevas carpetas</option>
                  <option value="complementary">Carpetas que cambiaron a investigación complementaria</option>
                  <option value="intermediate">Carpetas que cambiaron a etapa intermedia</option>
                  <option value="judgment">Carpetas que cambiaron a juicio</option>
                </select>
              </div>
              <div class="col-md-3">
                <p><strong>Filtros</strong></p>
                <select id="calendar-crime" class="form-control">
                  <option value="default">Tipo de delito</option>
                </select>
                <select id="calendar-agency" class="form-control">
                  <option value="default">Agencia del ministerio público</option>
                </select>
                <select id="calendar-unity" class="form-control">
                  <option value="default">Unidad administrativa</option>
                </select>
              </div>
              <div class="col-md-3">
                <p><strong>Año</strong></p>
                <select id="calendar-years" class="form-control">
                </select>
              </div>
              <div class="col-md-3">
                <p id="indicator-change"><strong>Total de cambios</strong></p>
                <div class="amount">
                  <span class="_1_15"></span>
                  <span class="_16_30"></span>
                  <span class="_31_60"></span>
                  <span class="_61_140"></span>
                  <span class="_141"></span>
                </div>
                <div class="amount-footer">
                  <span>1-15</span>
                  <span>16-30</span>
                  <span>31-60</span>
                  <span>61-140</span>
                  <span>+141</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div id="calendar-viz" class="col-md-12">
          <!-- Visualizador de calendario -->
        </div>
      </div>
    </div>

    <!-- Sección de estatus -->
    <div id="status">
      <div class="row">
        <div class="col-md-12">
          <h1>Estatus actual de las carpetas</h1>
          <p>
            Con esta visualización puedes ver cómo se distribuyen las carpetas existentes por delito, proceso penal, Unidad Administrativa, agencia del Ministerio Público, Entidad o tipo de sentencia.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div id="status-activators">
            <button id="status-crime" class="btn btn-primary">Delito</button>
            <button id="status-criminal-process" class="btn">Proceso Penal</button>
            <button id="status-admin-unit" class="btn">Unidad Administrativa</button>
            <button id="status-mp" class="btn">Ministerio Público</button>
            <button id="status-state" class="btn">Entidad</button>
            <button id="status-judgment" class="btn">Sentencia</button>
          </div>
          <p id="title-status-activator">Se muestra el total de carpetas de investigación por tipo de delito.</p>
        </div>
      </div>
      <div class="row">
        <div id="status-viz" class="col-md-12">
        </div>
      </div>
    </div>

    <!-- Sección de mapa -->
    <div id="map">
      <div class="row">
        <div class="col-md-12">
          <h1>Mapa coroplético</h1>
          <p>
            Con este mapa de calor, puedes explorar la distribución geográfica, a nivel estatal y municipal, de las carpetas de investigación.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="header-section well">
            <div class="row">
              <div class="col-md-3">
                <p><strong>Nivel</strong></p>
                <button class="btn btn-block btn-primary">Municipal</button>
                <button class="btn btn-block btn-default">Estatal</button>
              </div>
              <div class="col-md-3">
                <p><strong>Filtros</strong></p>
                <select id="indicators" class="form-control">
                  <option value="total">Tipo de delito</option>
                  <option value="one">Otro tipo de delito</option>
                  <option value="two">Un delito más</option>
                </select>
                <select id="indicators" class="form-control">
                  <option value="total">Agencia del ministerio público</option>
                  <option value="one">Otra agencia</option>
                  <option value="two">Una agencia más</option>
                </select>
                <select id="indicators" class="form-control">
                  <option value="total">Unidad administrativa</option>
                  <option value="one">Otra unidad</option>
                  <option value="two">Una unidad más</option>
                </select>
              </div>
              <div class="col-md-3">
                <p><strong>Año</strong></p>
                <select id="indicators" class="form-control">
                  <option value="total">2017</option>
                  <option value="one">2016</option>
                  <option value="two">2015</option>
                </select>
              </div>
              <div class="col-md-3">
                <p><strong>Total de cambios</strong></p>
                <div class="amount">
                  <span class="_1_15"></span>
                  <span class="_16_30"></span>
                  <span class="_31_60"></span>
                  <span class="_61_140"></span>
                  <span class="_141"></span>
                </div>
                <div class="amount-footer">
                  <span>1-15</span>
                  <span>16-30</span>
                  <span>31-60</span>
                  <span>61-140</span>
                  <span>+141</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <!--<div id="map-viz" class="col-md-12">
        </div>-->
        <svg id="map-viz" width="960" height="600"></svg>
      </div>
    </div>

    <!-- Sección de seguimiento de carpeta -->
    <div id="tracking">
      <div class="row">
        <div class="col-md-12">
          <h1>Seguimiento de carpeta</h1>
          <p>
            Da seguimiento a una carpeta de investigación específica al ingresar el “Número de Carpeta de Investigación” asignado a ésta. Puedes cambiar el año con el filtro para ver los cambios realizados a esa carpeta en distintos momentos.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="header-section well">
            <div class="row">
              <div class="col-md-5">
                <p><strong>Carpeta</strong></p>
                <div class="input-group">
                  <input id="tracking-id-folder" type="text" class="form-control" placeholder="EJ. FED/PUE/PBL/00059593/2016" />
                  <div id="search-id-folder" class="input-group-addon searcher-insert">Buscar</div>
                </div>
              </div>
              <div class="col-md-3">
                <p><strong>Año</strong></p>
                <select id="tracking-years" class="form-control">
                </select>
              </div>
              <div class="col-md-4">
                <p><strong>Total de cambios</strong></p>
                <div class="amount-tracking">
                  <span class="_0"></span>
                  <span class="_1_5"></span>
                  <span class="_6"></span>
                </div>
                <div class="amount-footer">
                  <span>0</span>
                  <span>1-5</span>
                  <span>+6</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="tracking-viz" class="row">
        <div class="col-md-6 first-months">
        </div>
        <div class="col-md-6 last-months">
        </div>
      </div>
    </div>
  </div>

  <dgm-footer></dgm-footer>

  <!-- JQuery -->
  <script type="text/javascript" src="bower_components/jquery/dist/jquery.min.js"></script>
  <!-- d3 -->
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/topojson.v2.min.js"></script>
  <script>

    var svg = d3.select("svg");

    var path = d3.geoPath();

    var tooltip = svg.append("g")
                     .style("position", "absolute")
                     .style("z-index", "999999999")
                     .style("visibility", "hidden")
                     .text("a simple tooltip");

    d3.json("map/topojson-mx.json", function(error, mx) {
      if (error) throw error;

      svg.append("g")
         .attr("class", "municipalities")
         .selectAll("path")
         .data(topojson.feature(mx, mx.objects.municipalities).features)
         .enter().append("path")
         .attr("d", path)
         .on("mouseover", function(event){return tooltip.style("visibility", "visible").style("top", (event.pageY-10)+"px").style("left",(event.pageX+10)+"px");})
         .on("mousemove", function(event){return tooltip.style("top", (event.pageY-10)+"px").style("left",(event.pageX+10)+"px");})
	       .on("mouseout", function(){return tooltip.style("visibility", "hidden");});

      svg.append("path")
         .datum(topojson.mesh(mx, mx.objects.municipalities, function(a, b) { return a.properties.state !== b.properties.state; }))
         .attr("class", "state-boundary")
         .attr("d", path);

      svg.append("path")  
         .datum(topojson.mesh(mx, mx.objects.municipalities, function(a, b) { return a.properties.state === b.properties.state && a !== b; }))
         .attr("class", "municipality-boundary")
         .attr("d", path);
    });

  </script>
  <!-- d3plus -->
  <script src="bower_components/d3plus/d3plus.full.min.js"></script>
  <!-- BOOTSTRAP -->
  <script type="text/javascript" src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="calendar/bootstrap-year-calendar.js"></script>
  <script type="text/javascript" src="js/bundle.min.js"></script>
  
</body>
</html>